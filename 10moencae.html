<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inscripción ENCAE Florecer | Laboratorio Teatral D2</title>

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Montserrat:400,700">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:400,300,800italic,700italic,600italic,400italic,300italic,800,700,600">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

        <link href="css/bootstrap.css" rel="stylesheet" type="text/css">
        <link href="css/style.css" rel="stylesheet" type="text/css">
        <link href="css/font-awesome.css" rel="stylesheet" type="text/css">
        <link href="css/responsive.css" rel="stylesheet" type="text/css">
        <link href="css/animate.css" rel="stylesheet" type="text/css">


    
    <script src="https://www.paypal.com/sdk/js?client-id=BAA1T3wZTeHi5KhqFa6i9Y3ApgAaY_hStgrmXJbjmK5UfPuGhDK8i3CLWyZfu5AjxQ6GZ2iR736vUxQa1M&components=hosted-buttons&disable-funding=venmo&currency=USD"></script>
    
    <style>
        :root {
            --primary-color: #8e44ad;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #f8f9fa;
            --dark-color: #2c3e50;
        }
       /* Estilo para encae header */ 
    .encae-header {
    background: #05d8c5;
    color: #2c3e50;
    padding: 100px 0 80px;
    text-align: center;
    margin-bottom: 30px;
    position: relative; /* Hace que .encae-header sea el contenedor de referencia para el logo */
}

.encae-logo {
    position: absolute;
    bottom: -80px; /* Distancia desde la parte inferior de .encae-header */
    left: 10px; /* Distancia desde la izquierda de .encae-header */
    max-width: 200px; /* Ajusta según el tamaño de tu logo */
    height: auto; /* Mantiene la proporción */
    z-index: 10; /* Asegura que el logo esté por encima de otros elementos */
}

.encae-header h1 {
    font-family: 'Montserrat', sans-serif; /* Fuente moderna y bold */
    color: #012e67;
    font: size 40px; /* Tamaño grande para el título */
    font-weight: 700; /* Peso bold */
    margin-bottom: 15px; /* Espacio debajo del título */
    line-height: 1.2; /* Mejor legibilidad */
}

.encae-header .subtitle {
    font-family: 'Open Sans', sans-serif; /* Fuente clara y legible */
    font-size: 18px; /* Tamaño más pequeño para subtítulos */
    font-weight: 400; /* Peso regular */
    margin-bottom: 10px; /* Espacio entre subtítulos */
    line-height: 1.4; /* Mejor legibilidad */
}

.container {
    max-width: 1200px; /* Ajusta según tu diseño */
    margin: 0 auto;
    padding: 0 15px; /* Asegura un padding consistente */
    position: relative; /* Permite que el logo se posicione dentro de .container si prefieres */
}

/* Ajustes para pantallas pequeñas */
@media (max-width: 768px) {
    .encae-header {
        padding: 80px 0 60px; /* Reduce el padding en móviles */
    }

    .encae-logo {
        max-width: 120px; /* Tamaño más pequeño para móviles */
        bottom: -60px;
        left: 5px;
    }
}       

        .form-container {
            max-width: 900px;
            margin: 0 auto 50px;
            padding: 30px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 5px 25px rgba(0,0,0,0.1);
        }
        
        .form-section {
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 1px solid #eee;
            display: none;
        }
        
        .form-section.active {
            display: block;
        }
        
        .form-group {
            margin-bottom: 20px;
            position: relative;
        }
        
        .form-label {
            font-weight: 600;
            margin-bottom: 8px;
            display: block;
        }
        
        .required::after {
            content: " *";
            color: var(--accent-color);
        }
        
        .form-control, .form-select {
            border-radius: 5px;
            padding: 12px 15px;
            border: 2px solid #ddd;
            transition: all 0.3s;
            width: 100%;
        }
        
        .form-control:focus, .form-select:focus {
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 0.2rem rgba(52, 152, 219, 0.25);
        }
        
        .is-invalid {
            border-color: var(--accent-color) !important;
        }
        
        .invalid-feedback {
            color: var(--accent-color);
            font-size: 0.85rem;
            margin-top: 5px;
            display: none; /* Hidden by default */
        }

        .form-group.was-validated .form-control:invalid ~ .invalid-feedback,
        .form-group.was-validated .form-select:invalid ~ .invalid-feedback,
        .form-group.was-validated .form-check-input:invalid ~ .invalid-feedback {
            display: block; /* Show feedback for invalid fields when validated */
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            border-color: var(--primary-color);
            padding: 12px 25px;
            font-weight: 600;
            border-radius: 5px;
            transition: all 0.3s;
            color: white;
            border: none;
            cursor: pointer;
        }
        
        .btn-primary:hover {
            background-color: #7d3c98;
            border-color: #7d3c98;
            transform: translateY(-2px);
        }
        
        .btn-outline-secondary {
            background-color: transparent;
            border: 1px solid #6c757d;
            color: #6c757d;
            padding: 12px 25px;
            font-weight: 600;
            border-radius: 5px;
            transition: all 0.3s;
            cursor: pointer;
        }
        
        .btn-outline-secondary:hover {
            background-color: #6c757d;
            color: white;
        }
        
        .payment-method {
            display: none;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid var(--secondary-color);
        }
        
        .payment-method.active {
            display: block;
        }

        .qr-container {
    text-align: center;
    padding: 15px;
    background: white;
    border-radius: 8px;
    max-width: 250px;
    margin: 0 auto;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1);
}

.qr-banco {
    display: flex;
    justify-content: center; /* Centra la imagen */
}

.qr-banco .encae-logo {
    max-width: 200px; /* Tamaño adecuado para escaneo, ajustado para el padding */
    height: auto;
    margin: 0; /* Anula márgenes de .encae-logo */
    position: static; /* Anula position: absolute de .encae-logo */
    bottom: auto; /* Anula bottom de .encae-logo */
    left: auto; /* Anula left de .encae-logo */
    z-index: auto; /* Anula z-index de .encae-logo */
    border: 2px solid #111111; /* Borde para destacar el QR */
}

/* Ajustes para pantallas pequeñas */
@media (max-width: 768px) {
    .qr-container {
        max-width: 200px; /* Reduce el contenedor en móviles */
        padding: 10px;
    }

    .qr-banco .encae-logo {
        max-width: 160px; /* QR más pequeño para móviles */
    }
}
        
        .qr-placeholder {
            width: 150px;
            height: 150px;
            background: #eee;
            margin: 0 auto 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #777;
            font-size: 0.9rem;
            text-align: center;
        }
        
        .info-box {
            background-color: #e3f2fd;
            border-left: 4px solid var(--secondary-color);
            padding: 15px;
            border-radius: 0 5px 5px 0;
            margin: 20px 0;
        }
        
        .declaration-box {
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            padding: 20px;
            border-radius: 8px;
            margin: 15px 0;
        }
        
        .declaration-box label {
            font-weight: normal;
            margin-left: 10px;
        }
        
        .form-progress {
            position: sticky;
            top: 80px;
            z-index: 1000;
            background: white;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 10px rgba(0,0,0,0.1);
            margin-bottom: 30px;
        }
        
        .progress {
            height: 8px;
            margin: 10px 0;
            background-color: #e9ecef;
            border-radius: 0.25rem;
            overflow: hidden; /* Ensures the bar stays within bounds */
        }
        
        .progress-bar {
            background-color: var(--primary-color);
            transition: width 0.5s ease;
            height: 100%;
        }
        
        .step-indicator {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            font-size: 0.85rem;
            color: #666;
        }
        
        .step {
            text-align: center;
            flex: 1;
            position: relative;
            padding: 0 5px;
        }
        
        .step.active {
            color: var(--primary-color);
            font-weight: bold;
        }
        
        .step::after {
            content: '';
            position: absolute;
            width: 8px;
            height: 8px;
            background-color: #ccc;
            border-radius: 50%;
            top: -15px;
            left: 50%;
            transform: translateX(-50%);
        }
        
        .step.active::after {
            background-color: var(--primary-color);
        }
        
        .activities-list {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .activities-list ul {
            columns: 2;
            -webkit-columns: 2;
            -moz-columns: 2;
            padding-left: 20px;
        }
        
        .confirmation-message {
            display: none;
            background-color: #dff0d8;
            border-left: 4px solid #3c763d;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            color: #3c763d;
        }

        .confirmation-message p {
            margin-bottom: 0;
        }
        
        .btn-container {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .loading-spinner {
            display: none;
            text-align: center;
            margin: 20px 0;
        }
        
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            border-radius: 50%;
            border-top: 4px solid var(--primary-color);
            width: 40px;
            height: 40px;
            animation: spin 1s linear infinite;
            margin: 0 auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Estilo para el botón de PayPal */
    #paypal-container {
        margin: 20px auto;
        max-width: 250px;
        text-align: center;
    }
        
        @media (max-width: 768px) {
            .form-container {
                padding: 20px;
            }
            
            .encae-header {
                padding-top: 130px;
            }
            
            .encae-header h1 {
                font-size: 2rem;
            }
            
            .form-section h3 {
                font-size: 1.4rem;
            }
            
            .activities-list ul {
                columns: 1;
                -webkit-columns: 1;
                -moz-columns: 1;
            }
            
            .btn-container {
                flex-direction: column;
                gap: 10px;
            }
            
            .btn-container button {
                width: 100%;
            }
            
            .main-nav {
                flex-wrap: wrap;
                padding-top: 30px;
            }
            
            .main-nav li {
                margin: 5px 10px;
            }
            
            .small-logo {
                top: 5px;
            }
        }
    </style>
</head>
<body>
    <nav class="main-nav-outer" id="test"><!--main-nav-start-->
                <div class="container">
                    <ul class="main-nav">
                        <li><a href="index.html#test">Inicio</a></li>
                        <li><a href="nosotros.html">Nosotros</a></li>
                        <li><a href="Proyecto_actual.html">Proyecto Actual</a></li>
                        <li class="small-logo">
                            <a href="#service">
                                <img src="img/small-logo.png" alt="Logo del Laboratorio teatral D2"> 
                            </a>
                        </li>
                        <li><a href="tienda.html">Tienda</a></li>
                        <li><a href="obras.html">Obras</a></li>
                        <li><a href="contacto.html">Contactos</a></li>
                        <li><a href="#10moencae">10moENCAE</a></li>
                    </ul>
                    <ul class="main-nav_mobile">
                        <li><a class="logo_mobile" href="#"><img src="img/logo_nav1.png" alt="Logo Laboratorio Teatral D2"></a></li>
                        <li><a class="res-nav_click" href="#"><i class="fa-bars"></i></a></li>
                    </ul>              
                </div>       
    </nav><!--main-nav-end-->
    
    <div class="encae-header">
        <div class="container">
            <img src="img/10moencae/flor.png" alt="Logo ENCAE" class="encae-logo">
            <h1>10mo ENcuentro de Creación en Artes Escénicas ENCAE Florecer</h1>
            <p class="subtitle">Macas, Ecuador • 22 al 24 de agosto de 2025</p>
            <p class="subtitle">Convivencia artística con talleres, charlas, actividades comunitarias y producción teatral</p>
        </div>
    </div>

    <div class="container">
        <div class="form-progress">
            <div class="progress">
                <div class="progress-bar" role="progressbar" style="width: 14.28%;" aria-valuenow="14.28" aria-valuemin="0" aria-valuemax="100"></div>
            </div>
            <div class="step-indicator">
                <div class="step active" data-step="1">Datos personales</div>
                <div class="step" data-step="2">Detalles</div>
                <div class="step" data-step="3">Salud</div>
                <div class="step" data-step="4">Actividades</div>
                <div class="step" data-step="5">Llegada</div>
                <div class="step" data-step="6">Autorizaciones</div>
                <div class="step" data-step="7">Pago</div>
            </div>
        </div>
        
        <div class="form-container">
            <form id="encae-form" novalidate>
                <div class="form-section active" id="section-1">
                    <h3><i class="fas fa-user-circle me-2"></i>Datos personales</h3>
                    <div class="info-box">
                        <p><i class="fas fa-info-circle me-2"></i>El costo de inscripción es de <strong>$70 USD</strong> que cubre exclusivamente alojamiento y alimentación durante los 3 días. Los talleres y actividades académicas están 100% subvencionados por el ENCAE Florecer.</p>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="form-label required" for="nombre">Nombre completo</label>
                                <input type="text" class="form-control" id="nombre" name="nombre" required>
                                <div class="invalid-feedback">Por favor ingresa tu nombre completo</div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="form-label required" for="email">Correo electrónico</label>
                                <input type="email" class="form-control" id="email" name="email" required>
                                <div class="invalid-feedback">Por favor ingresa un correo electrónico válido</div>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="form-label required" for="telefono">Teléfono</label>
                                <input type="tel" class="form-control" id="telefono" name="telefono" required placeholder="Ej: +593 99 999 9999">
                                <div class="invalid-feedback">Por favor ingresa tu número de teléfono</div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="form-label required" for="nacionalidad">Nacionalidad</label>
                                <input type="text" class="form-control" id="nacionalidad" name="nacionalidad" required>
                                <div class="invalid-feedback">Por favor ingresa tu nacionalidad</div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="form-section" id="section-2">
                    <h3><i class="fas fa-id-card me-2"></i>Detalles personales</h3>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="form-label required" for="edad">Edad</label>
                                <input type="number" class="form-control" id="edad" name="edad" min="18" max="40" required>
                                <div class="invalid-feedback">Debes tener entre 18 y 40 años para participar</div>
                                <small class="form-text text-muted">Debes tener entre 18 y 40 años para participar</small>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="form-label required" for="ocupacion">Ocupación principal</label>
                                <select class="form-select" id="ocupacion" name="ocupacion" required>
                                    <option value="">Seleccionar...</option>
                                    <option>Actor/Actriz</option>
                                    <option>Director/Directora</option>
                                    <option>Estudiante de teatro</option>
                                    <option>Dramaturgo/Dramaturga</option>
                                    <option>Escenógrafo/Iluminador</option>
                                    <option>Docente</option>
                                    <option>Investigador/Investigadora</option>
                                    <option>Otro</option>
                                </select>
                                <div class="invalid-feedback">Por favor selecciona tu ocupación</div>
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label required" for="experiencia">Experiencia en artes escénicas</label>
                        <textarea class="form-control" id="experiencia" name="experiencia" rows="3" required placeholder="Describe brevemente tu experiencia en teatro u otras artes escénicas"></textarea>
                        <div class="invalid-feedback">Por favor describe tu experiencia</div>
                    </div>
                </div>
                
                <div class="form-section" id="section-3">
                    <h3><i class="fas fa-heartbeat me-2"></i>Salud y requisitos</h3>
                    <div class="declaration-box">
                        <div class="form-group form-check">
                            <input class="form-check-input" type="checkbox" id="declaracion-edad" name="declaracion_edad" required>
                            <label class="form-check-label" for="declaracion-edad">
                                Confirmo que tengo entre 18 y 40 años
                            </label>
                            <div class="invalid-feedback">Debes confirmar que tienes entre 18 y 40 años</div>
                        </div>
                        <div class="form-group form-check mt-2">
                            <input class="form-check-input" type="checkbox" id="declaracion-salud" name="declaracion_salud" required>
                            <label class="form-check-label" for="declaracion-salud">
                                Declaro que no tengo discapacidades físicas o mentales que puedan afectar mi participación en actividades intensivas
                            </label>
                            <div class="invalid-feedback">Debes confirmar tu estado de salud</div>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="alergias">Alergias alimentarias</label>
                        <textarea class="form-control" id="alergias" name="alergias" rows="2" placeholder="Si tienes alguna alergia, indícanos cuál"></textarea>
                    </div>
                    <div class="form-group">
                        <label class="form-label" for="dieta">Dieta especial</label>
                        <select class="form-select" id="dieta" name="dieta">
                            <option value="">Seleccionar si aplica...</option>
                            <option>Vegetariano</option>
                            <option>Vegano</option>
                            <option>Sin gluten (celíaco)</option>
                            <option>Sin lácteos</option>
                            <option>Otra</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-section" id="section-4">
                    <h3><i class="fas fa-calendar-check me-2"></i>Actividades del encuentro</h3>
                    <div class="info-box">
                        <p><i class="fas fa-info-circle me-2"></i>Todas las actividades son obligatorias y forman parte integral de la experiencia de convivencia.</p>
                    </div>
                    <div class="activities-list">
                        <ul>
                            <li>Clases de yoga</li>
                            <li>Taller "El cuerpo Barroco del actor y de la escena"</li>
                            <li>Charla "El Pueblo Upano y hallazgos arqueológicos"</li>
                            <li>Debate "Situación de las artes escénicas en América Latina"</li>
                            <li>Visita a los petroglifos de Río Blanco</li>
                            <li>Siembra simbólica y mingas comunitarias</li>
                            <li>Charla "Marketing e Inteligencia Artificial"</li>
                            <li>Producción y presentación de "La flor de la chuquirawa"</li>
                        </ul>
                    </div>
                    <div class="form-group">
                        <label class="form-label required" for="interes">¿Qué actividad te interesa más?</label>
                        <select class="form-select" id="interes" name="interes" required>
                            <option value="">Seleccionar...</option>
                            <option>Taller "El cuerpo Barroco del actor y de la escena"</option>
                            <option>Charla "El Pueblo Upano y hallazgos arqueológicos"</option>
                            <option>Debate "Situación de las artes escénicas en América Latina"</option>
                            <option>Producción teatral</option>
                            <option>Todas me interesan por igual</option>
                        </select>
                        <div class="invalid-feedback">Por favor selecciona la actividad que más te interesa</div>
                    </div>
                </div>
                
                <div class="form-section" id="section-5">
                    <h3><i class="fas fa-map-marker-alt me-2"></i>Llegada a Macas</h3>
                    <div class="info-box">
                        <p><i class="fas fa-info-circle me-2"></i>El transporte interno dentro del cantón Morona (ciudad y parroquia de Río Blanco) está cubierto por la organización. Los participantes solo deben llegar a la ciudad de Macas.</p>
                        <p><i class="fas fa-info-circle me-2"></i>El aeropuerto de Macas (XMS) opera principalmente vuelos comunitarios/regionales.</p>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="form-label required" for="fecha-llegada">Fecha y hora de llegada estimada</label>
                                <input type="datetime-local" class="form-control" id="fecha-llegada" name="fecha_llegada" required>
                                <div class="invalid-feedback">Por favor indica tu fecha y hora de llegada</div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label class="form-label required" for="transporte">Medio de transporte a Macas</label>
                                <select class="form-select" id="transporte" name="transporte" required>
                                    <option value="">Seleccionar...</option>
                                    <option value="bus">Bus interprovincial (recomendado)</option>
                                    <option value="auto">Vehículo privado</option>
                                    <option value="vuelo">Vuelo comunitario (Aeropuerto: XMS)</option>
                                    <option value="otro">Otro</option>
                                </select>
                                <div class="invalid-feedback">Por favor selecciona tu medio de transporte</div>
                            </div>
                        </div>
                    </div>
                    <div id="detalles-vuelo" class="payment-method">
                        <div class="form-group">
                            <label class="form-label" for="numero-vuelo">Número de vuelo (si aplica)</label>
                            <input type="text" class="form-control" id="numero-vuelo" name="numero_vuelo">
                        </div>
                    </div>
                </div>
                
                <div class="form-section" id="section-6">
                    <h3><i class="fas fa-file-signature me-2"></i>Autorizaciones legales</h3>
                    <div class="declaration-box">
                        <div class="form-group form-check">
                            <input class="form-check-input" type="checkbox" id="autorizacion-imagen" name="autorizacion_imagen" required>
                            <label class="form-check-label" for="autorizacion-imagen">
                                Autorizo el uso de mi imagen en fotografías y videos durante el evento para fines promocionales del ENCAE Florecer y Laboratorio Teatral D2.
                            </label>
                            <div class="invalid-feedback">Debes autorizar el uso de tu imagen</div>
                        </div>
                        <div class="form-group form-check mt-3">
                            <input class="form-check-input" type="checkbox" id="acepto-reglamento" name="acepto_reglamento" required>
                            <label class="form-check-label" for="acepto-reglamento">
                                He leído y acepto el <a href="#" target="_blank">reglamento del evento</a> y las condiciones de convivencia durante los 3 días.
                            </label>
                            <div class="invalid-feedback">Debes aceptar el reglamento del evento</div>
                        </div>
                    </div>
                </div>
                
                <div class="form-section" id="section-7">
                    <h3><i class="fas fa-credit-card me-2"></i>Método de pago</h3>
                    <div class="form-group">
                        <label class="form-label required" id="metodo-pago-label">Selecciona tu método de pago</label>
                        <div class="d-flex flex-wrap gap-3">
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="metodo_pago" id="transferencia" value="transferencia" required>
                                <label class="form-check-label" for="transferencia">
                                    Transferencia bancaria
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="metodo_pago" id="qr" value="qr">
                                <label class="form-check-label" for="qr">
                                    Pago por QR
                                </label>
                            </div>
                            <div class="form-check">
                                <input class="form-check-input" type="radio" name="metodo_pago" id="paypal" value="paypal" checked>
                                <label class="form-check-label" for="paypal">
                                    PayPal
                                </label>
                            </div>
                        </div>
                        <div class="invalid-feedback" id="metodo-pago-feedback">Por favor selecciona un método de pago</div>
                    </div>
                    <div id="detalles-transferencia" class="payment-method">
                        <h5>Datos para transferencia bancaria</h5>
                        <p><strong>Banco:</strong> Banco del Pichincha</p>
                        <p><strong>N° de Cuenta:</strong> 2202622110</p>
                        <p><strong>Tipo:</strong> Cuenta Corriente</p>
                        <p><strong>A nombre de:</strong> Elizabeth Alejandra Pazmiño Freire</p>
                        <div class="form-group mt-3">
                            <label class="form-label required" for="numero-transferencia">Número de referencia de transferencia</label>
                            <input type="text" class="form-control" id="numero-transferencia" name="numero_transferencia" placeholder="Ej: TRF-2025-12345">
                            <div class="invalid-feedback">Por favor ingresa el número de referencia de transferencia</div>
                            <small class="form-text text-muted">Ingresa el código de referencia que te proporcionó tu banco</small>
                        </div>
                    </div>

                    <div id="detalles-qr" class="payment-method">
                        <h5 class="text-center">Pago por código QR</h5>
                        <div class="qr-container">
                            <div class="qr-banco">
                                <img src="img/10moencae/qrPichincha.jpg" alt="Logo ENCAE" class="encae-logo">
                            </div>
                        </div>
                        <div class="form-group mt-3">
                            <label class="form-label required" for="referencia-qr">Referencia de pago QR</label>
                            <input type="text" class="form-control" id="referencia-qr" name="referencia_qr" placeholder="Ej: QR-2025-ABCDE">
                            <div class="invalid-feedback">Por favor ingresa la referencia de pago QR</div>
                            <small class="form-text text-muted">Ingresa cualquier referencia o confirmación que te dé la app de tu banco</small>
                        </div>
                    </div>

                    <div id="paypal-container" class="payment-method">
                        <h5 class="text-center">Pago con PayPal o tarjeta</h5>
                        <div id="paypal-container-HER6X9MZAMEKE"></div>
                            <div class="invalid-feedback" id="paypal-feedback" style="display: none;">Por favor completa el pago con PayPal o tarjeta.</div>
                            <input type="hidden" id="paypal-completed" name="paypal_completed" value="false">
                            <small class="form-text text-muted">Puedes pagar con tarjeta de crédito/débito sin necesidad de una cuenta PayPal.</small>
                        </div>
                </div>

                <div class="confirmation-message" id="confirmation-message">
                    <h4>¡Inscripción completada con éxito!</h4>
                    <p>Gracias por inscribirte al 10mo Encuentro de Creación en Artes Escénicas ENCAE Florecer.</p>
                    <p>Hemos recibido tus datos y el pago (si aplica). En breve recibirás un correo electrónico con los detalles y próximos pasos. ¡Nos vemos en Macas!</p>
                </div>

                <div class="loading-spinner" id="loading-spinner">
                    <div class="spinner"></div>
                    <p>Enviando tu inscripción...</p>
                </div>

                <div class="btn-container">
                    <button type="button" id="prev-btn" class="btn btn-outline-secondary" style="display: none;"><i class="fas fa-chevron-left me-2"></i>Anterior</button>
                    <button type="button" id="next-btn" class="btn btn-primary">Siguiente<i class="fas fa-chevron-right ms-2"></i></button>
                    <button type="submit" id="submit-btn" class="btn btn-primary" style="display: none;"><i class="fas fa-paper-plane me-2"></i>Enviar inscripción</button>
                </div>
            </form>
        </div>
    </div>

    <footer class="footer"><!--copyright-©-->
                <div class="container-social">
                    <ul class="social-link">
                        <li class="instagram"><a href="https://www.instagram.com/marcos_chamorro_mera/" target="_blank"><i class="fa-instagram"></i></a></li>
                        <li class="facebook"><a href="https://www.facebook.com/pages/D2/665190513612321?ref=hl" target="_blank"><i class="fa-facebook"></i></a></li>
                        <li class="gplus"><a href="https://www.youtube.com/@MrMarcosChamorro" target="_blank"><i class="fa-youtube"></i></a></li>
                        <li class="tiktok"><a href="https://www.tiktok.com/@labtd2" target="_blank"><i class="fa-tiktok"></i></a></li>
                        <li class="twitter">
                            <a href="https://x.com/MarcosChamorroM" target="_blank"><img src="img/new-twitter-logo.svg" class="twitter-icon" alt="Twitter"></a>
                        </li>
                    </ul>
                    
                    <div class="footer-logo"><a href="#"><img src="img/footer-logo.png" alt=""></a></div>
                    <span class="copyright">Diseñado por Mk-sistem <a href="#">Tecnología.</a> 2025</span>
                </div>
    </footer><!--copyrigth-end-->

    <script>
    let currentSection = 1;
const totalSections = 7;
const form = document.getElementById('encae-form');
const sections = document.querySelectorAll('.form-section');
const progressBar = document.querySelector('.progress-bar');
const stepIndicators = document.querySelectorAll('.step');
const prevBtn = document.getElementById('prev-btn');
const nextBtn = document.getElementById('next-btn');
const submitBtn = document.getElementById('submit-btn');
const loadingSpinner = document.getElementById('loading-spinner');
const confirmationMessage = document.getElementById('confirmation-message');

// Payment method specific elements
const paymentRadios = document.querySelectorAll('input[name="metodo_pago"]');
const transferenciaDetails = document.getElementById('detalles-transferencia');
const qrDetails = document.getElementById('detalles-qr');
const paypalContainer = document.getElementById('paypal-container');
const paypalButtonContainer = document.getElementById('paypal-button-container');
const paypalCompletedInput = document.getElementById('paypal-completed');
const paypalFeedback = document.getElementById('paypal-feedback');
const numeroTransferencia = document.getElementById('numero-transferencia');
const referenciaQr = document.getElementById('referencia-qr');

// Transportation details
const transporteSelect = document.getElementById('transporte');
const detallesVuelo = document.getElementById('detalles-vuelo');
const numeroVuelo = document.getElementById('numero-vuelo');

function showSection(sectionNumber) {
    sections.forEach((section, index) => {
        section.classList.remove('active');
        if (index + 1 === sectionNumber) {
            section.classList.add('active');
        }
    });

    stepIndicators.forEach((step, index) => {
        step.classList.remove('active');
        if (index + 1 === sectionNumber) {
            step.classList.add('active');
        }
    });

    updateProgressBar();
    updateButtons();
    window.scrollTo({ top: 0, behavior: 'smooth' });
}

function updateProgressBar() {
    const progress = (currentSection / totalSections) * 100;
    progressBar.style.width = `${progress}%`;
    progressBar.setAttribute('aria-valuenow', progress);
}

function updateButtons() {
    prevBtn.style.display = currentSection === 1 ? 'none' : 'block';
    nextBtn.style.display = currentSection === totalSections ? 'none' : 'block';
    submitBtn.style.display = currentSection === totalSections ? 'block' : 'none';
}

function validateSection(sectionNumber) {
    const currentSectionEl = document.getElementById(`section-${sectionNumber}`);
    let isValid = true;
    const inputs = currentSectionEl.querySelectorAll('input[required], select[required], textarea[required]');
    const checkboxes = currentSectionEl.querySelectorAll('input[type="checkbox"][required]');

    // Reset validation state for current section
    currentSectionEl.querySelectorAll('.form-group').forEach(group => {
        group.classList.remove('was-validated');
    });
    currentSectionEl.querySelectorAll('.form-control, .form-select, .form-check-input').forEach(field => {
        field.classList.remove('is-invalid');
        const feedback = field.closest('.form-group')?.querySelector('.invalid-feedback');
        if (feedback) feedback.style.display = 'none';
    });

    // Validate inputs
    inputs.forEach(input => {
        const formGroup = input.closest('.form-group');
        formGroup?.classList.add('was-validated');
        if (!input.checkValidity()) {
            input.classList.add('is-invalid');
            const feedback = formGroup?.querySelector('.invalid-feedback');
            if (feedback) feedback.style.display = 'block';
            isValid = false;
        } else {
            input.classList.remove('is-invalid');
            const feedback = formGroup?.querySelector('.invalid-feedback');
            if (feedback) feedback.style.display = 'none';
        }
    });

    // Validate checkboxes
    checkboxes.forEach(checkbox => {
        const formGroup = checkbox.closest('.form-group');
        formGroup?.classList.add('was-validated');
        if (!checkbox.checked) {
            checkbox.classList.add('is-invalid');
            const feedback = formGroup?.querySelector('.invalid-feedback');
            if (feedback) feedback.style.display = 'block';
            isValid = false;
        } else {
            checkbox.classList.remove('is-invalid');
            const feedback = formGroup?.querySelector('.invalid-feedback');
            if (feedback) feedback.style.display = 'none';
        }
    });

    // Validate payment section
    if (sectionNumber === 7) {
        const paymentSelected = document.querySelector('input[name="metodo_pago"]:checked');
        const paymentFeedbackEl = document.getElementById('metodo-pago-feedback');
        if (!paymentSelected) {
            paymentFeedbackEl.style.display = 'block';
            isValid = false;
        } else {
            paymentFeedbackEl.style.display = 'none';
            if (paymentSelected.value === 'transferencia') {
                if (!numeroTransferencia.value.trim()) {
                    numeroTransferencia.classList.add('is-invalid');
                    numeroTransferencia.closest('.form-group').classList.add('was-validated');
                    numeroTransferencia.nextElementSibling.style.display = 'block';
                    isValid = false;
                } else {
                    numeroTransferencia.classList.remove('is-invalid');
                    numeroTransferencia.nextElementSibling.style.display = 'none';
                }
            } else if (paymentSelected.value === 'qr') {
                if (!referenciaQr.value.trim()) {
                    referenciaQr.classList.add('is-invalid');
                    referenciaQr.closest('.form-group').classList.add('was-validated');
                    referenciaQr.nextElementSibling.style.display = 'block';
                    isValid = false;
                } else {
                    referenciaQr.classList.remove('is-invalid');
                    referenciaQr.nextElementSibling.style.display = 'none';
                }
            } else if (paymentSelected.value === 'paypal') {
                if (paypalCompletedInput.value !== 'true') {
                    paypalFeedback.style.display = 'block';
                    isValid = false;
                } else {
                    paypalFeedback.style.display = 'none';
                }
            }
        }
    }

    return isValid;
}

prevBtn.addEventListener('click', () => {
    if (currentSection > 1) {
        currentSection--;
        showSection(currentSection);
    }
});

nextBtn.addEventListener('click', () => {
    if (validateSection(currentSection)) {
        if (currentSection < totalSections) {
            currentSection++;
            showSection(currentSection);
        }
    } else {
        const firstInvalid = document.querySelector('.form-section.active .is-invalid');
        if (firstInvalid) {
            firstInvalid.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }
    }
});

form.addEventListener('submit', async (e) => {
    e.preventDefault();
    
    // Validate all sections to ensure no required fields are missed
    for (let i = 1; i <= totalSections; i++) {
        if (!validateSection(i)) {
            const firstInvalid = document.querySelector(`#section-${i} .is-invalid`);
            if (firstInvalid) {
                currentSection = i;
                showSection(i);
                firstInvalid.scrollIntoView({ behavior: 'smooth', block: 'center' });
            }
            console.log(`Validación falló en la sección ${i}`);
            return;
        }
    }

    loadingSpinner.style.display = 'block';
    submitBtn.disabled = true;
    prevBtn.disabled = true;

    const formData = new FormData(form);
    const data = Object.fromEntries(formData.entries());

    // Convert checkbox values to 'true' or 'false'
    data.declaracion_edad = document.getElementById('declaracion-edad').checked ? 'true' : 'false';
    data.declaracion_salud = document.getElementById('declaracion-salud').checked ? 'true' : 'false';
    data.autorizacion_imagen = document.getElementById('autorizacion-imagen').checked ? 'true' : 'false';
    data.acepto_reglamento = document.getElementById('acepto-reglamento').checked ? 'true' : 'false';

    // Depuración: Verificar valores de las casillas
    console.log("Valores de las casillas:", {
        declaracion_edad: data.declaracion_edad,
        declaracion_salud: data.declaracion_salud,
        autorizacion_imagen: data.autorizacion_imagen,
        acepto_reglamento: data.acepto_reglamento
    });
    console.log("Datos del formulario a enviar:", data);

    try {
        const googleAppsScriptURL = 'https://script.google.com/macros/s/AKfycbyHSdwVHqYx8wF95L7JvrwtkuCMkL5-SNQJo42BkqLVpiXuswhhlaEi55HnjCoiERjzGA/exec';

        const response = await fetch(googleAppsScriptURL, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/x-www-form-urlencoded'
            },
            body: new URLSearchParams(data).toString()
        });

        const result = await response.json();

        if (response.ok && result.status === 'success') {
            sections.forEach(section => section.style.display = 'none');
            confirmationMessage.style.display = 'block';
            form.reset();
            paypalCompletedInput.value = 'false';
        } else {
            console.error('Error del script de Google Apps Script:', result.errors ? result.errors.join(', ') : result.message || 'Error desconocido');
            alert(`Hubo un error al enviar tu inscripción: ${result.errors ? result.errors.join(', ') : result.message || 'Error desconocido'}`);
        }
    } catch (error) {
        console.error('Error al enviar el formulario:', error);
        alert('Hubo un problema de conexión al enviar tu inscripción. Por favor, verifica tu internet e inténtalo de nuevo.');
    } finally {
        loadingSpinner.style.display = 'none';
        submitBtn.disabled = false;
        prevBtn.disabled = false;
    }
});

paymentRadios.forEach(radio => {
    radio.addEventListener('change', () => {
        transferenciaDetails.classList.remove('active');
        qrDetails.classList.remove('active');
        paypalContainer.classList.remove('active');

        numeroTransferencia.value = '';
        numeroTransferencia.classList.remove('is-invalid');
        numeroTransferencia.closest('.form-group')?.classList.remove('was-validated');
        numeroTransferencia.nextElementSibling.style.display = 'none';

        referenciaQr.value = '';
        referenciaQr.classList.remove('is-invalid');
        referenciaQr.closest('.form-group')?.classList.remove('was-validated');
        referenciaQr.nextElementSibling.style.display = 'none';

        paypalCompletedInput.value = 'false';
        paypalFeedback.style.display = 'none';

        if (radio.value === 'transferencia') {
            transferenciaDetails.classList.add('active');
            numeroTransferencia.setAttribute('required', 'true');
            referenciaQr.removeAttribute('required');
        } else if (radio.value === 'qr') {
            qrDetails.classList.add('active');
            referenciaQr.setAttribute('required', 'true');
            numeroTransferencia.removeAttribute('required');
        } else if (radio.value === 'paypal') {
            paypalContainer.classList.add('active');
            numeroTransferencia.removeAttribute('required');
            referenciaQr.removeAttribute('required');
        }
    });
});

transporteSelect.addEventListener('change', () => {
    if (transporteSelect.value === 'vuelo') {
        detallesVuelo.classList.add('active');
        numeroVuelo.setAttribute('required', 'true');
    } else {
        detallesVuelo.classList.remove('active');
        numeroVuelo.removeAttribute('required');
        numeroVuelo.value = '';
        numeroVuelo.classList.remove('is-invalid');
        numeroVuelo.closest('.form-group')?.classList.remove('was-validated');
    }
});

paypal.HostedButtons({
    hostedButtonId: "HER6X9MZAMEKE",
    onApprove: function(data) {
        document.getElementById('paypal-completed').value = 'true';
        document.getElementById('paypal-feedback').style.display = 'none';
        alert('Pago con PayPal completado con éxito.');
    },
    onError: function(err) {
        document.getElementById('paypal-completed').value = 'false';
        document.getElementById('paypal-feedback').style.display = 'block';
        console.error('Error en PayPal:', err);
        alert('Hubo un error con el pago de PayPal. Por favor, inténtalo de nuevo.');
    }
}).render('#paypal-container-HER6X9MZAMEKE');

showSection(currentSection);
    </script>
</body>
</html>